@using PhPopovich.Models
@inject Context DbContext
@model List<ServiceModel>

@{
    Layout = null;
}

<div class="gallery-wrap">
    <div class="container">
        @{
            var index = 0;
            while (index < Model.Count)
            {
                var first = Model[index];
                var second = index + 1 < Model.Count ? Model[index + 1] : null;
                var third = index + 2 < Model.Count ? Model[index + 2] : null;
                index += 3;

                <div class="img-wrap">
                    @await Html.PartialAsync("Service", first)
                    @await Html.PartialAsync("Service", second)
                </div>
                if (third != null)
                {
                    <div class="img-wrap">
                        @await Html.PartialAsync("Service", third)
                    </div>
                }
            }
        }
    </div>
</div>
